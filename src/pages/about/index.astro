---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { getGeneratedAt, getMembers } from '../../lib/members';
const BASE = import.meta.env.BASE_URL.endsWith('/') ? import.meta.env.BASE_URL : `${import.meta.env.BASE_URL}/`;
const members = await getMembers();
const generatedAt = await getGeneratedAt();
const generatedAtText = generatedAt ? new Date(generatedAt).toLocaleString('ja-JP') : '情報準備中';
---

<BaseLayout title="佐賀県農業法人協会とは | 佐賀県農業法人協会" description="佐賀県農業法人協会の目的・活動概要ページ">
  <section class="mx-auto max-w-5xl space-y-6">
    <article class="rounded-xl border border-line bg-card p-6 shadow-card md:p-8">
      <h1 class="mt-2 text-2xl font-black tracking-tight text-ink md:text-3xl">佐賀県農業法人協会とは</h1>
      <p class="mt-4 text-sm leading-7 text-ink-soft">
        佐賀県農業法人協会は、会員同士のつながりを強め、経営力向上と地域農業の持続的発展を目指す団体です。
        情報共有・連携・実践支援を通じて、各法人の成長と地域価値の向上に取り組んでいます。
      </p>
      <div class="mt-5 flex flex-wrap gap-3">
        <a href={`${BASE}join/`} class="rounded-lg bg-brand px-4 py-2 text-sm font-semibold text-white no-underline hover:opacity-90">入会申込</a>
        <a href={`${BASE}members/`} class="rounded-lg border border-line bg-bg-soft px-4 py-2 text-sm font-semibold text-ink no-underline hover:bg-card-soft">会員一覧を見る</a>
      </div>
    </article>

    <article class="rounded-xl border border-line bg-card p-5 shadow-card md:p-6">
      <h2 class="text-lg font-semibold tracking-tight text-ink">主な活動内容</h2>
      <ul class="mt-2 space-y-2 text-sm leading-7 text-ink-soft">
        <li>・会員法人の情報共有と相互連携の促進</li>
        <li>・生産・販路・経営に関する実践的な支援</li>
        <li>・次世代へつながる地域農業基盤づくり</li>
      </ul>
    </article>

    <article class="rounded-xl border border-line bg-card p-5 shadow-card md:p-6">
      <h2 class="text-lg font-semibold tracking-tight text-ink">現在の公開状況</h2>
      <div class="mt-3 flex flex-wrap gap-3 text-xs text-ink-soft">
        <span class="inline-flex items-center rounded-full bg-bg-soft px-3 py-1.5">掲載法人数: {members.length}</span>
        <span class="inline-flex items-center rounded-full bg-bg-soft px-3 py-1.5">更新日時: {generatedAtText}</span>
      </div>
    </article>
  </section>
</BaseLayout>
